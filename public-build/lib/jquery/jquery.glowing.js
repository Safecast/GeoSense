(function($){function parseOptions(e){return{RADIUS:e.radius||20,DURATION:e.duration||500,TEXT_COLOR:e.textColor||"#fff",HALO_COLOR:e.haloColor||"#777"}}function currentRadius(e){return(prop=e.style["text-shadow"])?parseInt(prop.match(/0 0 (\d+)px/)):0}function stepTextShadow(e){e.state==0&&(e.start=currentRadius(e.elem)),updatedRadius=e.end.begin?Math.max(Math.min(parseInt(e.end.radius*e.pos))):Math.max(Math.min(parseInt(e.end.radius-e.end.radius*e.pos))),e.end.begin||e.state<1?e.elem.style["text-shadow"]=e.end.color+" 0 0 "+updatedRadius+"px":e.elem.style["text-shadow"]="none"}function addGlow(opts){function startGlow(){$(this).animate({color:opts.TEXT_COLOR,textShadow:{begin:!0,color:opts.HALO_COLOR,radius:opts.RADIUS}},opts.DURATION)}function startFade(){$(this).animate({color:$(this).data("glow.originColor"),textShadow:{begin:!1,color:opts.HALO_COLOR,radius:opts.RADIUS}},opts.DURATION)}var opts=parseOptions(opts||{});with($(this))bind("mouseenter",startGlow),bind("mouseleave",startFade),data("glow.originColor",css("color"));return this}function tempGlow(opts){var opts=parseOptions(opts||{}),self=this;with($(this))data("glow.originColor",css("color"));return $(self).css({color:opts.TEXT_COLOR}),$(self).animate({textShadow:{begin:!0,color:opts.HALO_COLOR,radius:opts.RADIUS}},50).delay(600).animate({color:$(self).data("glow.originColor"),textShadow:{begin:!1,color:opts.HALO_COLOR,radius:opts.RADIUS}},opts.DURATION),this}var currentRadius,multiplier;$.fx.step.textShadow=stepTextShadow,$.fn.addGlow=addGlow,$.fn.tempGlow=tempGlow})(jQuery);