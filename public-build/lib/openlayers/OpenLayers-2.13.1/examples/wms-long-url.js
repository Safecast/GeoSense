var longText=(new Array(205)).join("1234567890"),map=new OpenLayers.Map("map"),base=new OpenLayers.Layer.WMS("OpenLayers WMS","http://vmap0.tiles.osgeo.org/wms/vmap0",{layers:"basic",makeTheUrlLong:longText},{tileOptions:{maxGetUrlLength:2048},transitionEffect:"resize"}),overlay=new OpenLayers.Layer.WMS("Overlay","http://suite.opengeo.org/geoserver/wms",{layers:"usa:states",transparent:!0,makeTheUrlLong:longText},{ratio:1,singleTile:!0,tileOptions:{maxGetUrlLength:2048},transitionEffect:"resize"});map.addLayers([base,overlay]),map.zoomToMaxExtent(),document.getElementById("longurl").onclick=function(){base.mergeNewParams({makeTheUrlLong:longText}),overlay.mergeNewParams({makeTheUrlLong:longText})},document.getElementById("shorturl").onclick=function(){base.mergeNewParams({makeTheUrlLong:null}),overlay.mergeNewParams({makeTheUrlLong:null})};