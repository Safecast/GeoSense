(!window.console||!console.firebug)&&function(){function toggleConsole(e){frameVisible=e||!frameVisible,consoleFrame?consoleFrame.style.visibility=frameVisible?"visible":"hidden":waitForBody()}function focusCommandLine(){toggleConsole(!0),commandLine&&commandLine.focus()}function waitForBody(){document.body?createFrame():setTimeout(waitForBody,200)}function createFrame(){if(consoleFrame)return;window.onFirebugReady=function(e){window.onFirebugReady=null;var t=e.getElementById("toolbar");t.onmousedown=onSplitterMouseDown,commandLine=e.getElementById("commandLine"),addEvent(commandLine,"keydown",onCommandLineKeyDown),addEvent(e,isIE||isSafari?"keydown":"keypress",onKeyDown),consoleBody=e.getElementById("log"),layout(),flush()};var e=getFirebugURL();consoleFrame=document.createElement("iframe"),consoleFrame.setAttribute("src",e+"/firebug.html"),consoleFrame.setAttribute("frameBorder","0"),consoleFrame.style.visibility=frameVisible?"visible":"hidden",consoleFrame.style.zIndex="2147483583",consoleFrame.style.position=document.all?"absolute":"fixed",consoleFrame.style.width="100%",consoleFrame.style.left="0",consoleFrame.style.bottom="0",consoleFrame.style.height="200px",document.body.appendChild(consoleFrame)}function getFirebugURL(){var e=document.getElementsByTagName("script");for(var t=0;t<e.length;++t)if(e[t].src.indexOf("firebug.js")!=-1){var n=e[t].src.lastIndexOf("/");return e[t].src.substr(0,n)}}function evalCommandLine(){var text=commandLine.value;commandLine.value="",logRow([clPrefix,text],"command");var value;try{value=eval(text)}catch(exc){}console.log(value)}function layout(){var e=consoleBody.ownerDocument.getElementById("toolbar"),t=consoleFrame.offsetHeight-(e.offsetHeight+commandLine.offsetHeight);t=Math.max(t,0),consoleBody.style.top=e.offsetHeight+"px",consoleBody.style.height=t+"px",commandLine.style.top=consoleFrame.offsetHeight-commandLine.offsetHeight+"px"}function logRow(e,t,n){consoleBody?writeMessage(e,t,n):(messageQueue.push([e,t,n]),waitForBody())}function flush(){var e=messageQueue;messageQueue=[];for(var t=0;t<e.length;++t)writeMessage(e[t][0],e[t][1],e[t][2])}function writeMessage(e,t,n){var r=consoleBody.scrollTop+consoleBody.offsetHeight>=consoleBody.scrollHeight;n||(n=writeRow),n(e,t),r&&(consoleBody.scrollTop=consoleBody.scrollHeight-consoleBody.offsetHeight)}function appendRow(e){var t=groupStack.length?groupStack[groupStack.length-1]:consoleBody;t.appendChild(e)}function writeRow(e,t){var n=consoleBody.ownerDocument.createElement("div");n.className="logRow"+(t?" logRow-"+t:""),n.innerHTML=e.join(""),appendRow(n)}function pushGroup(e,t){logFormatted(e,t);var n=consoleBody.ownerDocument.createElement("div");n.className="logGroup";var r=consoleBody.ownerDocument.createElement("div");r.className="logGroupBox",n.appendChild(r),appendRow(r),groupStack.push(r)}function popGroup(){groupStack.pop()}function logFormatted(e,t){var n=[],r=e[0],i=0;typeof r!="string"&&(r="",i=-1);var s=parseFormat(r);for(var o=0;o<s.length;++o){var u=s[o];if(u&&typeof u=="object"){var a=e[++i];u.appender(a,n)}else appendText(u,n)}for(var o=i+1;o<e.length;++o){appendText(" ",n);var a=e[o];typeof a=="string"?appendText(a,n):appendObject(a,n)}logRow(n,t)}function parseFormat(e){var t=[],n=/((^%|[^\\]%)(\d+)?(\.)([a-zA-Z]))|((^%|[^\\]%)([a-zA-Z]))/,r={s:appendText,d:appendInteger,i:appendInteger,f:appendFloat};for(var i=n.exec(e);i;i=n.exec(e)){var s=i[8]?i[8]:i[5],o=s in r?r[s]:appendObject,u=i[3]?parseInt(i[3]):i[4]=="."?-1:0;t.push(e.substr(0,i[0][0]=="%"?i.index:i.index+1)),t.push({appender:o,precision:u}),e=e.substr(i.index+i[0].length)}return t.push(e),t}function escapeHTML(e){function t(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&#39;";case'"':return"&quot;"}return"?"}return String(e).replace(/[<>&"']/g,t)}function objectToString(e){try{return e+""}catch(t){return null}}function appendText(e,t){t.push(escapeHTML(objectToString(e)))}function appendNull(e,t){t.push('<span class="objectBox-null">',escapeHTML(objectToString(e)),"</span>")}function appendString(e,t){t.push('<span class="objectBox-string">&quot;',escapeHTML(objectToString(e)),"&quot;</span>")}function appendInteger(e,t){t.push('<span class="objectBox-number">',escapeHTML(objectToString(e)),"</span>")}function appendFloat(e,t){t.push('<span class="objectBox-number">',escapeHTML(objectToString(e)),"</span>")}function appendFunction(e,t){var n=/function ?(.*?)\(/,r=n.exec(objectToString(e)),i=r?r[1]:"function";t.push('<span class="objectBox-function">',escapeHTML(i),"()</span>")}function appendObject(e,t){try{e==undefined?appendNull("undefined",t):e==null?appendNull("null",t):typeof e=="string"?appendString(e,t):typeof e=="number"?appendInteger(e,t):typeof e=="function"?appendFunction(e,t):e.nodeType==1?appendSelector(e,t):typeof e=="object"?appendObjectFormatted(e,t):appendText(e,t)}catch(n){}}function appendObjectFormatted(e,t){var n=objectToString(e),r=/\[object (.*?)\]/,i=r.exec(n);t.push('<span class="objectBox-object">',i?i[1]:n,"</span>")}function appendSelector(e,t){t.push('<span class="objectBox-selector">'),t.push('<span class="selectorTag">',escapeHTML(e.nodeName.toLowerCase()),"</span>"),e.id&&t.push('<span class="selectorId">#',escapeHTML(e.id),"</span>"),e.className&&t.push('<span class="selectorClass">.',escapeHTML(e.className),"</span>"),t.push("</span>")}function appendNode(e,t){if(e.nodeType==1){t.push('<div class="objectBox-element">','&lt;<span class="nodeTag">',e.nodeName.toLowerCase(),"</span>");for(var n=0;n<e.attributes.length;++n){var r=e.attributes[n];if(!r.specified)continue;t.push('&nbsp;<span class="nodeName">',r.nodeName.toLowerCase(),'</span>=&quot;<span class="nodeValue">',escapeHTML(r.nodeValue),"</span>&quot;")}if(e.firstChild){t.push('&gt;</div><div class="nodeChildren">');for(var i=e.firstChild;i;i=i.nextSibling)appendNode(i,t);t.push('</div><div class="objectBox-element">&lt;/<span class="nodeTag">',e.nodeName.toLowerCase(),"&gt;</span></div>")}else t.push("/&gt;</div>")}else e.nodeType==3&&t.push('<div class="nodeText">',escapeHTML(e.nodeValue),"</div>")}function addEvent(e,t,n){document.all?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)}function removeEvent(e,t,n){document.all?e.detachEvent("on"+t,n):e.removeEventListener(t,n,!1)}function cancelEvent(e){document.all?e.cancelBubble=!0:e.stopPropagation()}function onError(e,t,n){var r=[],i=t.lastIndexOf("/"),s=i==-1?t:t.substr(i+1);r.push('<span class="errorMessage">',e,"</span>",'<div class="objectBox-sourceLink">',s," (line ",n,")</div>"),logRow(r,"error")}function onKeyDown(e){if(e.keyCode==123)toggleConsole();else{if(e.keyCode!=108&&e.keyCode!=76||!e.shiftKey||!e.metaKey&&!e.ctrlKey)return;focusCommandLine()}cancelEvent(e)}function onSplitterMouseDown(e){if(isSafari||isOpera)return;addEvent(document,"mousemove",onSplitterMouseMove),addEvent(document,"mouseup",onSplitterMouseUp);for(var t=0;t<frames.length;++t)addEvent(frames[t].document,"mousemove",onSplitterMouseMove),addEvent(frames[t].document,"mouseup",onSplitterMouseUp)}function onSplitterMouseMove(e){var t=document.all?e.srcElement.ownerDocument.parentWindow:e.target.ownerDocument.defaultView,n=e.clientY;t!=t.parent&&(n+=t.frameElement?t.frameElement.offsetTop:0);var r=consoleFrame.offsetTop+consoleFrame.clientHeight,i=consoleBody.ownerDocument.getElementById("toolbar"),s=Math.max(r-n,i.offsetHeight+commandLine.offsetHeight);consoleFrame.style.height=s+"px",layout()}function onSplitterMouseUp(e){removeEvent(document,"mousemove",onSplitterMouseMove),removeEvent(document,"mouseup",onSplitterMouseUp);for(var t=0;t<frames.length;++t)removeEvent(frames[t].document,"mousemove",onSplitterMouseMove),removeEvent(frames[t].document,"mouseup",onSplitterMouseUp)}function onCommandLineKeyDown(e){e.keyCode==13?evalCommandLine():e.keyCode==27&&(commandLine.value="")}window.console={log:function(){logFormatted(arguments,"")},debug:function(){logFormatted(arguments,"debug")},info:function(){logFormatted(arguments,"info")},warn:function(){logFormatted(arguments,"warning")},error:function(){logFormatted(arguments,"error")},assert:function(e,t){if(!e){var n=[];for(var r=1;r<arguments.length;++r)n.push(arguments[r]);throw logFormatted(n.length?n:["Assertion Failure"],"error"),t?t:"Assertion Failure"}},dir:function(e){var t=[],n=[];for(var r in e)try{n.push([r,e[r]])}catch(i){}n.sort(function(e,t){return e[0]<t[0]?-1:1}),t.push("<table>");for(var s=0;s<n.length;++s){var r=n[s][0],o=n[s][1];t.push("<tr>",'<td class="propertyNameCell"><span class="propertyName">',escapeHTML(r),"</span></td>",'<td><span class="propertyValue">'),appendObject(o,t),t.push("</span></td></tr>")}t.push("</table>"),logRow(t,"dir")},dirxml:function(e){var t=[];appendNode(e,t),logRow(t,"dirxml")},group:function(){logRow(arguments,"group",pushGroup)},groupEnd:function(){logRow(arguments,"",popGroup)},time:function(e){timeMap[e]=(new Date).getTime()},timeEnd:function(e){if(e in timeMap){var t=(new Date).getTime()-timeMap[e];logFormatted([e+":",t+"ms"]),delete timeMap[e]}},count:function(){this.warn(["count() not supported."])},trace:function(){this.warn(["trace() not supported."])},profile:function(){this.warn(["profile() not supported."])},profileEnd:function(){},clear:function(){consoleBody.innerHTML=""},open:function(){toggleConsole(!0)},close:function(){frameVisible&&toggleConsole()}};var consoleFrame=null,consoleBody=null,commandLine=null,frameVisible=!1,messageQueue=[],groupStack=[],timeMap={},clPrefix=">>> ",isFirefox=navigator.userAgent.indexOf("Firefox")!=-1,isIE=navigator.userAgent.indexOf("MSIE")!=-1,isOpera=navigator.userAgent.indexOf("Opera")!=-1,isSafari=navigator.userAgent.indexOf("AppleWebKit")!=-1;window.onerror=onError,addEvent(document,isIE||isSafari?"keydown":"keypress",onKeyDown),document.documentElement.getAttribute("debug")=="true"&&toggleConsole(!0)}();