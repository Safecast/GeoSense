(function(){function e(e){var t=e.indexOf("<");t>0&&(e=e.substring(t));var n;if(window.ActiveXObject&&!this.xmldom){n=new ActiveXObject("Microsoft.XMLDOM");try{n.loadXML(e)}catch(r){throw"ActiveXObject loadXML failed: "+r}}else if(window.DOMParser){try{n=(new DOMParser).parseFromString(e,"text/xml")}catch(r){throw"DOMParser.parseFromString failed"}if(n.documentElement&&n.documentElement.nodeName=="parsererror")throw"DOMParser.parseFromString returned parsererror"}else{var i=new XMLHttpRequest;i.open("GET","data:text/xml;charset=utf-8,"+encodeURIComponent(e),!1),i.overrideMimeType&&i.overrideMimeType("text/xml"),i.send(null),n=i.responseXML}var s=n.documentElement;if(!s)throw"no documentElement";return s}function t(e,t,n){e===undefined?e="undefined":e===null&&(e="null"),t===undefined?t="undefined":t===null&&(t="null");if(e!=t)throw n+": got '"+e+"' but expected '"+t+"'"}function n(e,i,s){var o=s&&s.prefix===!0;t(e.nodeType,i.nodeType,"Node type mismatch");var u=o?e.nodeName:e.nodeName.split(":").pop(),a=o?i.nodeName:i.nodeName.split(":").pop();t(u,a,"Node name mismatch");if(e.nodeType==3)t(e.nodeValue,i.nodeValue,"Node value mismatch");else if(e.nodeType==1){(e.prefix||i.prefix)&&o&&t(e.prefix,i.prefix,"Bad prefix for "+e.nodeName),(e.namespaceURI||i.namespaceURI)&&t(e.namespaceURI,i.namespaceURI,"Bad namespaceURI for "+e.nodeName);var f=0,l={},c=0,h={},p,d,v,m;for(var g=0;g<e.attributes.length;++g)p=e.attributes[g],(p.specified===undefined||p.specified===!0)&&p.name.split(":").shift()!="xmlns"&&(v=o?p.name:p.name.split(":").pop(),l[v]=p,++f);for(var g=0;g<i.attributes.length;++g)d=i.attributes[g],(d.specified===undefined||d.specified===!0)&&d.name.split(":").shift()!="xmlns"&&(m=o?d.name:d.name.split(":").pop(),h[m]=d,++c);t(f,c,"Attributes length mismatch for "+e.nodeName);var y,b;for(var w in l){if(h[w]==undefined)throw"Attribute name "+l[w].name+" expected for element "+e.nodeName;t(l[w].namespaceURI,h[w].namespaceURI,"Attribute namespace mismatch for element "+e.nodeName+" attribute name "+l[w].name),t(l[w].value,h[w].value,"Attribute value mismatch for element "+e.nodeName+" attribute name "+l[w].name)}var E=r(e,s),S=r(i,s);t(E.length,S.length,"Children length mismatch for "+e.nodeName);for(var x=0;x<E.length;++x)try{n(E[x],S[x],s)}catch(T){throw"Bad child "+x+" for element "+e.nodeName+": "+T}}return!0}function r(e,t){if(t&&t.includeWhiteSpace)return e.childNodes;nodes=[];for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];r.nodeType==1?nodes.push(r):r.nodeType==3&&r.nodeValue&&r.nodeValue.replace(/^\s*(.*?)\s*$/,"$1")!=""&&nodes.push(r)}return nodes}var i=Test.AnotherWay._test_object_t.prototype;i.xml_eq=function(t,r,i,s){if(typeof t=="string")try{t=e(t)}catch(o){this.fail(i+": got argument could not be converted to an XML node: "+o);return}if(typeof r=="string")try{r=e(r)}catch(o){this.fail(i+": expected argument could not be converted to an XML node: "+o);return}try{n(t,r,s),this.ok(!0,i)}catch(o){this.fail(i+": "+o)}}})();