// This file is part of Natural Docs, which is Copyright ï¿½ 2003-2010 Greg Valure

// Natural Docs is licensed under version 3 of the GNU Affero General Public License (AGPL)

// Such documentation is not covered by Natural Docs' copyright and licensing,

// and may have its own copyright and distribution terms as decided by its author.

function GetXPosition(e){var t=0;if(e.offsetWidth!=null)while(e!=document.body&&e!=null)t+=e.offsetLeft,e=e.offsetParent;return t}function GetYPosition(e){var t=0;if(e.offsetWidth!=null)while(e!=document.body&&e!=null)t+=e.offsetTop,e=e.offsetParent;return t}function MoveToPosition(e,t,n){e.style.left!=null?(e.style.left=t+"px",e.style.top=n+"px"):e.style.pixelLeft!=null&&(e.style.pixelLeft=t,e.style.pixelTop=n)}function ToggleMenu(e){if(!window.document.getElementById)return;var t=window.document.getElementById(e).style.display;t=="none"?t="block":t="none",window.document.getElementById(e).style.display=t}function HideAllBut(e,t){if(document.getElementById){e.sort(function(e,t){return e-t});var n=1;while(n<t)e.length>0&&n==e[0]?e.shift():document.getElementById("MGroupContent"+n).style.display="none",n++}}function ShowTip(e,t,n){tooltipTimer&&clearTimeout(tooltipTimer);var r=e.clientX+window.pageXOffset,i=e.clientY+window.pageYOffset,s="ReallyShowTip('"+t+"', '"+n+"', "+r+", "+i+")";tooltipTimer=setTimeout(s,1e3)}function ReallyShowTip(e,t,n,r){tooltipTimer=0;var i,s;document.getElementById&&(i=document.getElementById(e),s=document.getElementById(t));if(i){var o=GetXPosition(s),u=GetYPosition(s);u+=s.offsetHeight;if(!isFinite(u)||u==0)o=n,u=r;u+=10;if(i.offsetWidth!=null){var a=i.offsetWidth,f=document.body.clientWidth;o+a>f&&(o=f-a-1),o<0&&(o=0)}MoveToPosition(i,o,u),i.style.visibility="visible"}}function HideTip(tooltipID){tooltipTimer&&(clearTimeout(tooltipTimer),tooltipTimer=0);var tooltip;document.getElementById?tooltip=document.getElementById(tooltipID):document.all&&(tooltip=eval("document.all['"+tooltipID+"']")),tooltip&&(tooltip.style.visibility="hidden")}function NDOnLoad(){if(browserVer=="IE6"){var e=document.getElementsByTagName("blockquote");e.item(0)&&(NDDoResize(),window.onresize=NDOnResize)}}function NDOnResize(){resizeTimer!=0&&clearTimeout(resizeTimer),resizeTimer=setTimeout(NDDoResize,250)}function NDDoResize(){var e=document.getElementsByTagName("blockquote"),t,n;t=0;while(n=e.item(t))n.style.width=100,t++;t=0;while(n=e.item(t))n.style.width=n.parentNode.offsetWidth,t++;clearTimeout(resizeTimer),resizeTimer=0}function SearchPanel(e,t,n){(!e||!t||!n)&&alert("Incorrect parameters to SearchPanel."),this.name=e,this.mode=t,this.resultsPath=n,this.keyTimeout=0,this.keyTimeoutLength=500,this.lastSearchValue="",this.lastResultsPage="",this.deactivateTimout=0,this.deactivateTimeoutLength=200,this.DOMSearchField=function(){return document.getElementById("MSearchField")},this.DOMSearchType=function(){return document.getElementById("MSearchType")},this.DOMPopupSearchResults=function(){return document.getElementById("MSearchResults")},this.DOMPopupSearchResultsWindow=function(){return document.getElementById("MSearchResultsWindow")},this.DOMSearchPanel=function(){return document.getElementById("MSearchPanel")},this.OnSearchFieldFocus=function(e){this.Activate(e)},this.OnSearchFieldChange=function(){this.keyTimeout&&(clearTimeout(this.keyTimeout),this.keyTimeout=0);var e=this.DOMSearchField().value.replace(/ +/g,"");e!=this.lastSearchValue&&(e!=""?this.keyTimeout=setTimeout(this.name+".Search()",this.keyTimeoutLength):(this.mode=="HTML"&&(this.DOMPopupSearchResultsWindow().style.display="none"),this.lastSearchValue=""))},this.OnSearchTypeFocus=function(e){this.Activate(e)},this.OnSearchTypeChange=function(){var e=this.DOMSearchField().value.replace(/ +/g,"");e!=""&&this.Search()},this.CloseResultsWindow=function(){this.DOMPopupSearchResultsWindow().style.display="none",this.Activate(!1,!0)},this.Search=function(){this.keyTimeout=0;var e=this.DOMSearchField().value.replace(/^ +/,""),t=this.DOMSearchType().value,n=e.substr(0,1);n.match(/^[a-z]/i)?n=n.toUpperCase():n.match(/^[0-9]/)?n="Numbers":n="Symbols";var r,i,s;indexSectionsWithContent[t][n]==1?(r=this.resultsPath+"/"+t+n+".html",i=r+"?"+escape(e),s=!0):(r=this.resultsPath+"/NoResults.html",i=r,s=!1);var o;this.mode=="HTML"?o=window.frames.MSearchResults:this.mode=="FramedHTML"&&(o=window.top.frames.Content),r!=this.lastResultsPage||browserType=="IE"&&s&&(!o.searchResults||o.searchResults.lastMatchCount==0)?o.location.href=i:s&&(o.searchResults?o.searchResults.Search(e):o.location.href=i);var u=this.DOMPopupSearchResultsWindow();if(this.mode=="HTML"&&u.style.display!="block"){var a=this.DOMSearchType(),f=GetXPosition(a),l=GetYPosition(a)+a.offsetHeight;MoveToPosition(u,f,l),u.style.display="block"}this.lastSearchValue=e,this.lastResultsPage=r},this.Activate=function(e,t){if(e||this.mode=="HTML"&&this.DOMPopupSearchResultsWindow().style.display=="block"){this.inactivateTimeout&&(clearTimeout(this.inactivateTimeout),this.inactivateTimeout=0),this.DOMSearchPanel().className="MSearchPanelActive";var n=this.DOMSearchField();n.value=="Search"&&(n.value="")}else t?this.InactivateAfterTimeout():this.inactivateTimeout=setTimeout(this.name+".InactivateAfterTimeout()",this.inactivateTimeoutLength)},this.InactivateAfterTimeout=function(){this.inactivateTimeout=0,this.DOMSearchPanel().className="MSearchPanelInactive",this.DOMSearchField().value="Search",this.lastSearchValue="",this.lastResultsPage=""}}function SearchResults(e,t){this.mode=t,this.lastMatchCount=0,this.Toggle=function(e){if(this.mode=="FramedHTML")return;var t=document.getElementById(e),n=t.firstChild;while(n&&n!=t){n.nodeName=="DIV"&&n.className=="ISubIndex"&&(n.style.display=="block"?n.style.display="none":n.style.display="block");if(n.nodeName=="DIV"&&n.hasChildNodes())n=n.firstChild;else if(n.nextSibling)n=n.nextSibling;else{do n=n.parentNode;while(n&&n!=t&&!n.nextSibling);n&&n!=t&&(n=n.nextSibling)}}},this.Search=function(e){e||(e=window.location.search,e=e.substring(1),e=unescape(e)),e=e.replace(/^ +/,""),e=e.replace(/ +$/,""),e=e.toLowerCase(),e.match(/[^a-z0-9]/)&&(e=e.replace(/\_/g,"_und"),e=e.replace(/\ +/gi,"_spc"),e=e.replace(/\~/g,"_til"),e=e.replace(/\!/g,"_exc"),e=e.replace(/\@/g,"_att"),e=e.replace(/\#/g,"_num"),e=e.replace(/\$/g,"_dol"),e=e.replace(/\%/g,"_pct"),e=e.replace(/\^/g,"_car"),e=e.replace(/\&/g,"_amp"),e=e.replace(/\*/g,"_ast"),e=e.replace(/\(/g,"_lpa"),e=e.replace(/\)/g,"_rpa"),e=e.replace(/\-/g,"_min"),e=e.replace(/\+/g,"_plu"),e=e.replace(/\=/g,"_equ"),e=e.replace(/\{/g,"_lbc"),e=e.replace(/\}/g,"_rbc"),e=e.replace(/\[/g,"_lbk"),e=e.replace(/\]/g,"_rbk"),e=e.replace(/\:/g,"_col"),e=e.replace(/\;/g,"_sco"),e=e.replace(/\"/g,"_quo"),e=e.replace(/\'/g,"_apo"),e=e.replace(/\</g,"_lan"),e=e.replace(/\>/g,"_ran"),e=e.replace(/\,/g,"_com"),e=e.replace(/\./g,"_per"),e=e.replace(/\?/g,"_que"),e=e.replace(/\//g,"_sla"),e=e.replace(/[^a-z0-9\_]i/gi,"_zzz"));var t=document.getElementsByTagName("div"),n=0,r=0;while(r<t.length){var i=t.item(r);if(i.className=="SRResult"){var s=i.id.toLowerCase();s=s.replace(/^sr\d*_/,""),e.length<=s.length&&s.substr(0,e.length)==e?(i.style.display="block",n++):i.style.display="none"}r++}return document.getElementById("Searching").style.display="none",n==0?document.getElementById("NoMatches").style.display="block":document.getElementById("NoMatches").style.display="none",this.lastMatchCount=n,!0}}var agt=navigator.userAgent.toLowerCase(),browserType,browserVer;if(agt.indexOf("opera")!=-1){browserType="Opera";if(agt.indexOf("opera 7")!=-1||agt.indexOf("opera/7")!=-1)browserVer="Opera7";else if(agt.indexOf("opera 8")!=-1||agt.indexOf("opera/8")!=-1)browserVer="Opera8";else if(agt.indexOf("opera 9")!=-1||agt.indexOf("opera/9")!=-1)browserVer="Opera9"}else agt.indexOf("applewebkit")!=-1?(browserType="Safari",agt.indexOf("version/3")!=-1?browserVer="Safari3":agt.indexOf("safari/4")!=-1&&(browserVer="Safari2")):agt.indexOf("khtml")!=-1?browserType="Konqueror":agt.indexOf("msie")!=-1?(browserType="IE",agt.indexOf("msie 6")!=-1?browserVer="IE6":agt.indexOf("msie 7")!=-1&&(browserVer="IE7")):agt.indexOf("gecko")!=-1&&(browserType="Firefox",agt.indexOf("rv:1.7")!=-1?browserVer="Firefox1":agt.indexOf("rv:1.8)")!=-1||agt.indexOf("rv:1.8.0")!=-1?browserVer="Firefox15":agt.indexOf("rv:1.8.1")!=-1&&(browserVer="Firefox2"));var tooltipTimer=0,resizeTimer=0;