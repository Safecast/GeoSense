var map=new OpenLayers.Map({div:"map",layers:[new OpenLayers.Layer.WMS("Global Imagery","http://maps.opengeo.org/geowebcache/service/wms",{layers:"bluemarble"},{tileOrigin:new OpenLayers.LonLat(-180,-90)}),new OpenLayers.Layer.Vector],center:new OpenLayers.LonLat(0,0),zoom:1}),draw=new OpenLayers.Control.DrawFeature(map.layers[1],OpenLayers.Handler.Path);map.addControl(draw),draw.activate(),OpenLayers.Event.observe(document,"keydown",function(e){var t=!1;switch(e.keyCode){case 90:if(e.metaKey||e.ctrlKey)draw.undo(),t=!0;break;case 89:if(e.metaKey||e.ctrlKey)draw.redo(),t=!0;break;case 27:draw.cancel(),t=!0}t&&OpenLayers.Event.stop(e)});