function toggleControl(e){for(var t in controls)controls[t].deactivate();controls[e.value].activate()}var osm=new OpenLayers.Layer.OSM,population=new OpenLayers.Layer.UTFGrid({name:"World Population",url:"utfgrid/world_utfgrid/${z}/${x}/${y}.json",utfgridResolution:4}),bioregions=new OpenLayers.Layer.UTFGrid({name:"World Bioregions",url:"utfgrid/bio_utfgrid/${z}/${x}/${y}.json",utfgridResolution:4}),map=new OpenLayers.Map({div:"map",projection:"EPSG:900913",controls:[],layers:[osm,population,bioregions],center:[0,0],zoom:1}),callback=function(e){var t="";if(e){var n,r;for(var i in e){n=map.layers[i],r=e[i];if(r&&r.data){t+="<strong>"+n.name+"</strong><br>",t+="feature id: "+r.id+"<br>";for(var s in r.data)t+=s+": "+r.data[s]+"<br>"}}}document.getElementById("attrsdiv").innerHTML=t},controls={move_pop:new OpenLayers.Control.UTFGrid({callback:callback,layers:[population],handlerMode:"move"}),move_bio:new OpenLayers.Control.UTFGrid({callback:callback,layers:[bioregions],handlerMode:"move"}),move_both:new OpenLayers.Control.UTFGrid({callback:callback,layers:null,handlerMode:"move"})};for(var key in controls)map.addControl(controls[key]);toggleControl({value:"move_pop"});