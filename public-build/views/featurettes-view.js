define(["jquery","underscore","backbone","config","utils","text!templates/featurettes.html","views/map-list-view-base"],function(e,t,n,r,i,s,o){var u=n.View.extend({initialize:function(e){this.template=t.template(e.templateHtml),this.index=e.index},render:function(){return this.$el.html(this.template()),this.populateFromModel(),this},populateFromModel:function(){var t=this,n=this.$el,r=this.model.publicUrl();this.index%2==1&&e(".col-md-8",n).before(e(".col-md-4",n).remove()),e(".map-title",n).text(this.model.attributes.title),e(".map-created-at",n).text(moment(this.model.attributes.createdAt).format(locale.formats.DATE_SHORT)),e(".map-description",n).text(maxWords(this.model.attributes.description,70)),e(".admin-link",n).attr("href",this.model.adminUrl()),e(".map-link",n).attr("href",r),this.model.attributes.previewImage?e(".preview-image",n).attr("src",this.model.attributes.previewImage):e(".preview-image-container",n).hide()}}),a=o.extend({initialize:function(e){this.template=t.template(s),this.mapType="featured"},render:function(){return a.__super__.render.apply(this,arguments),this.itemTemplateHtml=this.$(".element-template").remove().clone().removeClass("element-template").html(),this},createSubView:function(e){return new u(t.extend({templateHtml:this.itemTemplateHtml},e))}});return a});