define(["jquery","underscore","backbone","config","utils","text!templates/homepage.html"],function(e,t,n,r,i,s){var o=n.View.extend({tagName:"div",initialize:function(e){var e=e||{};this.vent=e.vent},setPanelState:function(t){var n=this;t==null&&(t=e(n.el).is(".collapsed")),t?e(n.el).removeClass("collapsed"):e(n.el).addClass("collapsed"),e(n.el).is(".collapsed")?n.$(".panel-body").hide("fast"):n.$(".panel-body").show("fast")},setTitle:function(e){this.$("h3").html(e)},snapToView:function(t,n,r){switch(n){case"right":this.$el.css("left",t.$el.position().left+t.$el.outerWidth()+"px");break;case"left":this.$el.css("right",e(t.el.parentNode).innerWidth()-t.$el.position().left+"px")}return r&&this.$el.css("top",t.$el.position().top+"px"),this},isVisible:function(){return this.$el.is(":visible")},show:function(e,t){return this.$el.show(e,t),this},hide:function(e,t){return this.$el.hide(e,t),this},render:function(){e(this.el).html(this.template());var t=this;return e(this.el).draggable({start:function(){e(this).css("bottom","auto")},handle:this.$(".panel-header"),stop:function(){var t=this,n=e(this).position().left+e(this).outerWidth();e(".snap.right").each(function(){n==e(this).position().left&&(console.log(this,e(this).position()),e(t).css("left","auto"))})},snap:".snap, .panel",snapMode:"outer"}),e(this.el).css("position","absolute"),this.$("a.panel-extend").click(function(){return e(t.el).toggleClass("extended"),e(t.el).is(".extended")&&t.setPanelState(!0),t.vent.trigger("panel:resize",t),!1}),this.$("a.panel-collapse").click(function(){return t.setPanelState(),!1}),this.$("a.panel-close").click(function(){return t.detach(),!1}),this},detach:function(){this.$el.detach()},appendSubView:function(e){this.$(".accordion").append(e.el),e.superView=this}});return o});