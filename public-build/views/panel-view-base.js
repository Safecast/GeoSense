define(["jquery","underscore","backbone","config","utils","text!templates/homepage.html"],function(e,t,n,r,i,s){var o=n.View.extend({tagName:"panel",draggable:undefined,initialize:function(e){var e=e||{};this.vent=e.vent},setPanelState:function(t){var n=this;return t==null&&(t=e(n.el).is(".collapsed")),t?e(n.el).removeClass("collapsed"):e(n.el).addClass("collapsed"),e(n.el).is(".collapsed")?n.$(".panel-body").hide("fast"):n.$(".panel-body").show("fast"),this},setTitle:function(e){this.$("h3").html(e)},snapToView:function(t,n,r){switch(n){case"right":this.$el.css("left",t.$el.position().left+t.$el.outerWidth()+"px");break;case"left":this.$el.css("right",e(t.el.parentNode).innerWidth()-t.$el.position().left+"px")}return r&&this.$el.css("top",t.$el.position().top+"px"),this},isVisible:function(){return this.$el.is(":visible")},isDraggable:function(){return this.draggable==undefined?this.$el.is(".panel-draggable"):this.draggable},show:function(e,t){return this.$el.show(e,t),this},hide:function(e,t){return this.$el.hide(e,t),this},attachTo:function(t){return e(t).append(this.el),this.isDraggable()&&this.$el.draggable("option","containment",t),this.isAttached=!0,this},render:function(){this.$el.html(this.template());var t=this;return this.isDraggable()&&(this.$el.draggable({start:function(){e(this).css("bottom","auto")},handle:this.$(".panel-header"),stop:function(){var t=this,n=e(this).position().left+e(this).outerWidth();e(".snap.right").each(function(){n==e(this).position().left&&e(t).css("left","auto")})},snap:".snap, .panel",snapMode:"outer"}),this.$el.css("position","absolute")),this.$("a.panel-extend").click(function(){return e(t.el).toggleClass("extended"),e(t.el).is(".extended")&&t.setPanelState(!0),t.trigger("panel:resize",t),!1}),this.$("a.panel-collapse").click(function(){return t.setPanelState(),!1}),this.$("a.panel-close").click(function(){return t.detach(),t.trigger("panel:close",t),!1}),this},detach:function(){this.isAttached=!1,this.$el.detach()},appendSubView:function(e){this.$(".accordion").append(e.el),e.setSuperView&&e.setSuperView(this)}});return o});