define(["jquery","underscore","backbone","config","utils","text!templates/map-info-modal.html","views/modal-view"],function(e,t,n,r,i,s,o){var u=o.extend({events:{},initialize:function(e){this.template=t.template(s),this.vent=e.vent,t.bindAll(this,"updateMapInfo"),e.vent.bind("updateMapInfo",this.updateMapInfo),this.mapInfo=e.mapInfo},updateMapInfo:function(t){t&&(this.mapInfo=t),this.setTitle(this.mapInfo.title);var n=["description","author","linkURL","twitter"];for(var r=n.length-1;r>=0;r--){var i=this.$("."+n[r]),s=e(".content",i);s.length||(s=i);var o=this.mapInfo[n[r]];o&&o!=""?(n[r]=="description"&&(o=nl2p(o)),n[r]=="twitter"&&(o="https://twitter.com/"+o),s.html(o),s[0].tagName=="A"&&s.attr("href",o),i.show()):i.hide()}},render:function(){return u.__super__.render.call(this),this.updateMapInfo(),this}});return u.templateHtml=s,u});