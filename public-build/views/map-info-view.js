define(["jquery","underscore","backbone","config","utils","text!templates/map-info-modal.html","views/modal-view"],function(e,t,n,r,i,s,o){var u=o.extend({events:{},initialize:function(e){this.template=t.template(s),u.__super__.initialize.call(this,e),this.listenTo(this.model,"sync",this.populateFromModel)},populateFromModel:function(){var t=this.model.attributes;this.setTitle(t.title);var n=["description","author","linkURL","twitter"];for(var r=n.length-1;r>=0;r--){var i=this.$("."+n[r]),s=e(".content",i);s.length||(s=i);var o=t[n[r]];o&&o!=""?(n[r]=="description"&&(o=nl2p(o)),n[r]=="twitter"&&(o="https://twitter.com/"+o),s.html(o),s[0].tagName=="A"&&s.attr("href",o),i.show()):i.hide()}},render:function(){return u.__super__.render.call(this),this.populateFromModel(),this}});return u});