<div class="panel-header">
    <div class="frame clearfix">
        <h3>Layer: <span class="layer-title"></span></h3>
        <ul class="panel-controls">
            <li><a class="panel-extend" href="#"><span class="icon icon-plus-sign icon-white"></span></a></li>
            <li><a class="panel-collapse" href="#"><span class="icon icon-minus-sign icon-white"></span></a></li>
            <li><a class="panel-close" href="#"><span class="icon icon-remove-sign icon-white"></span></a></li>
        </ul>
    </div>
</div>
<div class="panel-body well">
    <form class="tabbable"> <!-- Only required for left/right tabs -->
        <ul class="nav nav-tabs">
          <li class="active"><a href="#layer-features" data-toggle="tab">Map Features</a></li>
          <li><a href="#layer-colors" data-toggle="tab">Colors</a></li>
          <li><a href="#layer-info" data-toggle="tab">Layer Info</a></li>
        </ul>

        <div class="tab-content">

            <fieldset class="tab-pane active" id="layer-features">
                <input class="model-input" name="layerOptions.featureType" type="hidden" />
                <div class="features">
                    <div>
                        <label class="title">Visibility</label>
                        <p>
                            <label class="checkbox">
                                <input class="model-input visibility" name="layerOptions.visible" type="checkbox" checked="checked"> This layer is switched on by default.
                            </label>
                            <!-- TODO:
                            <label class="checkbox">
                                <input class="model-input" name="layerOptions.public" type="checkbox" checked="checked"> This layer is public.
                            </label>
                            -->
                        </p>
                        <label class="title">Feature Type</label>
                        <p class="btn-group model-input" data-name="layerOptions.featureType" data-toggle="buttons-radio">
                            <button class="btn feature-type points" value="P"></button>
                            <button class="btn feature-type cells" value="C"></button>
                            <button class="btn feature-type bubbles" value="B"></button>
                        </p>
                    </div>
                    <p class="clearfix">
                        <label class="title" for="">Opacity</label>  
                        <span class="pull-left">
                            <input class="number model-input" name="layerOptions.opacity" type="text" />
                        </span>
                        <span class="slider pull-right" data-field="layerOptions.opacity"></span>
                    </p>
                    <div class="feature-settings B">
                        <!-- TODO: Solve with range slider
                        <p class="clearfix">
                            <label class="title" for="">Minimum Size</label>  
                            <span class="pull-left">
                                <input class="number model-input" name="layerOptions.minFeatureSize" type="text" />
                            </span>
                            <span class="slider pull-right" data-field="layerOptions.minFeatureSize"></span>
                        </p>
                        <p class="clearfix">
                            <label class="title" for="">Maximum Size</label>  
                            <span class="pull-left">
                                <input class="number model-input" name="layerOptions.maxFeatureSize" type="text" />
                            </span>
                            <span class="slider pull-right" data-field="layerOptions.maxFeatureSize"></span>
                        </p>
                        -->
                        <p class="clearfix">
                            <label class="title pull-left" for="map-size">Map size to</label>
                            <select class="model-input pull-left" name="layerOptions.featureSizeAttr">
                                <option value="">(default)</option>
                                <option value="count">sample size</option>
                                <option value="val.avg">average value</option>
                            </select>
                        </p>
                    </div>
                </div>
            </fieldset>

            <fieldset class="tab-pane" id="layer-colors">
                <p>
                    <table class="color-palette">
                        <thead>
                            <th><label class="title">Color</label></th>
                            <th><label class="title">Value</label></th>
                            <th><label class="title">Interpolation</label></th>
                        </thead>
                        <tbody>
                            <tr class="element-template">
                                <td><input name="color" type="text" class="color-picker black" size="6" placeholder="hex color" value="" /></td>
                                <td><input name="position" type="text" class="number" size="3" placeholder="position" value="" /></td>
                                <td>
                                    <select name="interpolation" class="min-width">
                                        <option value="">(default)</option>
                                        <option value="threshold">threshold</option>
                                        <option value="lerpRGB">linear</option>
                                    </select>
                                </td>
                                <td>
                                    <a class="btn muted remove-color" href="#"><span class="icon icon-remove"></span></a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <a href="#" class="btn add-color"><span class="icon icon-plus"></span></a>
                </p>

                <!-- TODO: this needs to be reflected in the legend
                <p class="clearfix">
                    <label class="title pull-left" for="map-size">Map color to</label>
                    <select class="model-input pull-left" name="layerOptions.featureColorAttr">
                        <option value="">(default)</option>
                        <option value="count">sample size</option>
                        <option value="val.avg">average value</option>
                    </select>
                </p>
                -->

            </fieldset>

            <fieldset class="tab-pane" id="layer-info">
                <p>
                    <label class="title" for="title">Title</label> <input class="text model-input" name="layerOptions.title" type="text" />
                    <label class="title" for="unit">Unit</label> <input class="text model-input" name="layerOptions.unit" type="text" />
                    <label class="title" for="description">Description</label> <textarea class="text model-input" name="layerOptions.description" rows="8"></textarea>
                </p>
                <p>
                    <a href="#" class="btn btn-danger destroy">Remove Layer</a>
                </p>
            </fieldset>
        </div>
        <div class="panel-buttons clearfix">
            <label class="checkbox inline">
                <input class="preview" type="checkbox" checked="checked"> Preview
            </label>
            <a href="#" class="btn save btn-success">Save Layer</a>
            <a href="#" class="btn undo">Undo</a>
        </p>
    </form>

</div>

